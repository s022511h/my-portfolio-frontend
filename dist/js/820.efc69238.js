"use strict";(self["webpackChunkmy_portfolio"]=self["webpackChunkmy_portfolio"]||[]).push([[820],{6820:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});n(2953);var s=n(6768),a=n(4232),o=n(5130);const i=e=>((0,s.Qi)("data-v-e73bbe82"),e=e(),(0,s.jt)(),e),r={class:"profile-container"},l=i(()=>(0,s.Lk)("div",{class:"profile-header"},[(0,s.Lk)("h1",null,"Account Settings"),(0,s.Lk)("p",null,"Manage your account information and communication preferences")],-1)),u={class:"profile-content"},c={class:"profile-section"},d=i(()=>(0,s.Lk)("h2",null,"Personal Information",-1)),k={class:"user-info"},p={class:"info-item"},g=i(()=>(0,s.Lk)("strong",null,"Name:",-1)),m={class:"info-item"},h=i(()=>(0,s.Lk)("strong",null,"Email:",-1)),L={class:"info-item"},f=i(()=>(0,s.Lk)("strong",null,"Member since:",-1)),v={class:"profile-section"},b=i(()=>(0,s.Lk)("h2",null,"Email Preferences",-1)),C={class:"consent-controls"},_={class:"consent-item"},y={class:"consent-header"},U=i(()=>(0,s.Lk)("h3",null,"Marketing Communications",-1)),w={class:"consent-toggle"},E={class:"toggle-switch"},A=["disabled"],P=i(()=>(0,s.Lk)("span",{class:"toggle-slider"},null,-1)),S={class:"toggle-status"},D=i(()=>(0,s.Lk)("p",{class:"consent-description"}," Receive updates about new features, beta testing opportunities, and product announcements. ",-1)),M={key:0,class:"update-feedback"},N={class:"profile-section"};function T(e,t,n,i,T,j){return(0,s.uX)(),(0,s.CE)("div",r,[l,(0,s.Lk)("div",u,[(0,s.Lk)("div",c,[d,(0,s.Lk)("div",k,[(0,s.Lk)("div",p,[g,(0,s.eW)(" "+(0,a.v_)(j.user.firstName)+" "+(0,a.v_)(j.user.lastName),1)]),(0,s.Lk)("div",m,[h,(0,s.eW)(" "+(0,a.v_)(j.user.email),1)]),(0,s.Lk)("div",L,[f,(0,s.eW)(" "+(0,a.v_)(j.formatDate(j.user.createdAt)),1)])])]),(0,s.Lk)("div",v,[b,(0,s.Lk)("div",C,[(0,s.Lk)("div",_,[(0,s.Lk)("div",y,[U,(0,s.Lk)("div",w,[(0,s.Lk)("label",E,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>T.marketingConsent=e),onChange:t[1]||(t[1]=(...e)=>j.updateMarketingConsent&&j.updateMarketingConsent(...e)),disabled:T.updating},null,40,A),[[o.lH,T.marketingConsent]]),P]),(0,s.Lk)("span",S,(0,a.v_)(T.marketingConsent?"Enabled":"Disabled"),1)])]),D,T.lastUpdated?((0,s.uX)(),(0,s.CE)("div",M," âœ“ Updated "+(0,a.v_)(T.lastUpdated),1)):(0,s.Q3)("",!0)])])]),(0,s.Lk)("div",N,[(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>j.handleLogout&&j.handleLogout(...e)),class:"logout-btn"}," Sign Out ")])])])}n(4114),n(3110);var j=n(6436),O={name:"UserProfile",data(){return{authStore:j.m,marketingConsent:!1,updating:!1,lastUpdated:null}},computed:{user(){return j.m.user||{}}},async mounted(){var e;j.m.isAuthenticated?this.marketingConsent=(null===(e=j.m.user)||void 0===e||null===(e=e.consents)||void 0===e?void 0:e.marketing)||!1:this.$router.push("/login")},methods:{async updateMarketingConsent(){this.updating=!0;try{const e=await j.m.getCurrentToken(),t=await fetch(`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL}/consent/update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({consentType:"marketing",granted:this.marketingConsent})}),n=await t.json();n.success&&(this.lastUpdated="just now",setTimeout(()=>{this.lastUpdated=null},3e3))}catch(e){console.error("Error updating marketing consent:",e),this.marketingConsent=!this.marketingConsent}finally{this.updating=!1}},async handleLogout(){await j.m.logout(),this.$router.push("/")},formatDate(e){return e?new Date(e).toLocaleDateString():"Unknown"}}},$=n(1241);const I=(0,$.A)(O,[["render",T],["__scopeId","data-v-e73bbe82"]]);var R=I}}]);
//# sourceMappingURL=820.efc69238.js.map