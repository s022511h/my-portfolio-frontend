{"version":3,"file":"js/820.efc69238.js","mappings":"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","sources":["webpack://my-portfolio/./src/views/Profile.vue","webpack://my-portfolio/./src/views/Profile.vue?24e8"],"sourcesContent":["<template>\r\n  <div class=\"profile-container\">\r\n    <div class=\"profile-header\">\r\n      <h1>Account Settings</h1>\r\n      <p>Manage your account information and communication preferences</p>\r\n    </div>\r\n    \r\n    <div class=\"profile-content\">\r\n      <div class=\"profile-section\">\r\n        <h2>Personal Information</h2>\r\n        <div class=\"user-info\">\r\n          <div class=\"info-item\">\r\n            <strong>Name:</strong> {{ user.firstName }} {{ user.lastName }}\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <strong>Email:</strong> {{ user.email }}\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <strong>Member since:</strong> {{ formatDate(user.createdAt) }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"profile-section\">\r\n        <h2>Email Preferences</h2>\r\n        <div class=\"consent-controls\">\r\n          <div class=\"consent-item\">\r\n            <div class=\"consent-header\">\r\n              <h3>Marketing Communications</h3>\r\n              <div class=\"consent-toggle\">\r\n                <label class=\"toggle-switch\">\r\n                  <input \r\n                    type=\"checkbox\" \r\n                    v-model=\"marketingConsent\" \r\n                    @change=\"updateMarketingConsent\"\r\n                    :disabled=\"updating\"\r\n                  />\r\n                  <span class=\"toggle-slider\"></span>\r\n                </label>\r\n                <span class=\"toggle-status\">\r\n                  {{ marketingConsent ? 'Enabled' : 'Disabled' }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <p class=\"consent-description\">\r\n              Receive updates about new features, beta testing opportunities, and product announcements.\r\n            </p>\r\n            \r\n            <div v-if=\"lastUpdated\" class=\"update-feedback\">\r\n              âœ“ Updated {{ lastUpdated }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"profile-section\">\r\n        <button @click=\"handleLogout\" class=\"logout-btn\">\r\n          Sign Out\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { authStore } from '../stores/firebaseAuth.js'\r\n\r\nexport default {\r\n  name: 'UserProfile',\r\n  data() {\r\n    return {\r\n      authStore,\r\n      marketingConsent: false,\r\n      updating: false,\r\n      lastUpdated: null\r\n    }\r\n  },\r\n  computed: {\r\n    user() {\r\n      return authStore.user || {};\r\n    }\r\n  },\r\n  async mounted() {\r\n    if (!authStore.isAuthenticated) {\r\n      this.$router.push('/login');\r\n      return;\r\n    }\r\n    \r\n    this.marketingConsent = authStore.user?.consents?.marketing || false;\r\n  },\r\n  methods: {\r\n    async updateMarketingConsent() {\r\n      this.updating = true;\r\n      \r\n      try {\r\n        const token = await authStore.getCurrentToken();\r\n        const response = await fetch(`${process.env.VUE_APP_API_URL}/consent/update`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n          },\r\n          body: JSON.stringify({\r\n            consentType: 'marketing',\r\n            granted: this.marketingConsent\r\n          })\r\n        });\r\n        \r\n        const data = await response.json();\r\n        if (data.success) {\r\n          this.lastUpdated = 'just now';\r\n          \r\n          setTimeout(() => {\r\n            this.lastUpdated = null;\r\n          }, 3000);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error updating marketing consent:', error);\r\n        this.marketingConsent = !this.marketingConsent;\r\n      } finally {\r\n        this.updating = false;\r\n      }\r\n    },\r\n    \r\n    async handleLogout() {\r\n      await authStore.logout();\r\n      this.$router.push('/');\r\n    },\r\n    \r\n    formatDate(dateString) {\r\n      if (!dateString) return 'Unknown';\r\n      return new Date(dateString).toLocaleDateString();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.profile-container {\r\n  min-height: 100vh;\r\n  background: #f8fafc;\r\n  padding: 2rem;\r\n}\r\n\r\n.profile-header {\r\n  text-align: center;\r\n  margin-bottom: 3rem;\r\n}\r\n\r\n.profile-header h1 {\r\n  color: #1a202c;\r\n  font-size: 2.5rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.profile-header p {\r\n  color: #718096;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.profile-content {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n}\r\n\r\n.profile-section {\r\n  background: white;\r\n  padding: 2rem;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.profile-section h2 {\r\n  color: #2d3748;\r\n  margin-bottom: 1.5rem;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.user-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.info-item {\r\n  color: #4a5568;\r\n  font-size: 1rem;\r\n}\r\n\r\n.info-item strong {\r\n  color: #2d3748;\r\n  margin-right: 0.5rem;\r\n}\r\n\r\n.consent-item {\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.consent-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.consent-header h3 {\r\n  color: #2d3748;\r\n  margin: 0;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.consent-toggle {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.toggle-switch {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 24px;\r\n}\r\n\r\n.toggle-switch input {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\n.toggle-slider {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #cbd5e0;\r\n  transition: .4s;\r\n  border-radius: 24px;\r\n}\r\n\r\n.toggle-slider:before {\r\n  position: absolute;\r\n  content: \"\";\r\n  height: 18px;\r\n  width: 18px;\r\n  left: 3px;\r\n  bottom: 3px;\r\n  background-color: white;\r\n  transition: .4s;\r\n  border-radius: 50%;\r\n}\r\n\r\ninput:checked + .toggle-slider {\r\n  background-color: #48bb78;\r\n}\r\n\r\ninput:checked + .toggle-slider:before {\r\n  transform: translateX(26px);\r\n}\r\n\r\n.toggle-status {\r\n  color: #4a5568;\r\n  font-weight: 500;\r\n}\r\n\r\n.consent-description {\r\n  color: #718096;\r\n  margin: 0;\r\n  line-height: 1.5;\r\n}\r\n\r\n.update-feedback {\r\n  color: #38a169;\r\n  font-size: 0.9rem;\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.logout-btn {\r\n  background: #e53e3e;\r\n  color: white;\r\n  border: none;\r\n  padding: 12px 24px;\r\n  border-radius: 6px;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.logout-btn:hover {\r\n  background: #c53030;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .consent-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .profile-container {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .profile-section {\r\n    padding: 1.5rem;\r\n  }\r\n}\r\n</style>","import { render } from \"./Profile.vue?vue&type=template&id=e73bbe82&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=e73bbe82&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e73bbe82\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","$options","user","firstName","lastName","_hoisted_9","_hoisted_10","email","_hoisted_11","_hoisted_12","formatDate","createdAt","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","type","$data","marketingConsent","$event","onChange","_cache","args","updateMarketingConsent","disabled","updating","_hoisted_22","_hoisted_23","_hoisted_24","lastUpdated","_hoisted_25","_hoisted_26","onClick","handleLogout","name","data","authStore","computed","mounted","_authStore$user","isAuthenticated","this","consents","marketing","$router","push","methods","token","getCurrentToken","response","fetch","process","VUE_APP_API_URL","method","headers","body","JSON","stringify","consentType","granted","json","success","setTimeout","error","console","logout","dateString","Date","toLocaleDateString","__exports__","render"],"sourceRoot":""}